<div class="container mt-4">
  <h2 class="mb-3">Mis Tareas</h2>
  <ul class="list-group mb-3">
    <li
      *ngFor="let t of tasks"
      class="list-group-item d-flex justify-content-between align-items-center"
    >
      <div class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          [(ngModel)]="t.completed"
          (change)="toggle(t)"
          id="check{{t.id}}"
        />
        <label
          class="form-check-label"
          [ngClass]="{'text-decoration-line-through': t.completed}"
          for="check{{t.id}}"
        >
          {{ t.title }}
        </label>
      </div>
      <div>
        <button
          class="btn btn-sm btn-outline-secondary me-2"
          (click)="edit(t)"
        >
          <i class="bi bi-pencil"></i>
        </button>
        <button
          class="btn btn-sm btn-outline-danger"
          (click)="delete(t.id)"
        >
          <i class="bi bi-trash"></i>
        </button>
      </div>
    </li>
  </ul>

  <!-- siempre mostramos el formulario -->
  <app-task-form
  [task]="editing"
  (saved)="onSaved()"
></app-task-form>
</div>
